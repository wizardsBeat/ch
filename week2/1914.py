def f(n, a, b, c):
    """
    n개의 원판을 장대 a에서 장대 c로 옮기는 함수
    a: 출발 장대
    b: 보조 장대
    c: 목표 장대
    """
    if n == 1:  # 원판이 하나라면 바로 옮긴다
        print(a, c, sep=" ")
    else:
        # n-1개의 원판을 a에서 b로 옮긴다 (c를 보조 장대로 사용)
        f(n - 1, a, c, b)
        # 1개의 원판을 a에서 c로 옮긴다
        f(1, a, b, c)
        # n-1개의 원판을 b에서 c로 옮긴다 (a를 보조 장대로 사용)
        f(n - 1, b, a, c)

n = int(input())  # 원판의 개수 입력
print(2 ** n - 1)  # 옮긴 횟수는 2^n - 1

if n <= 20:
    f(n, 1, 2, 3)  # 원판 이동 과정 출력
    